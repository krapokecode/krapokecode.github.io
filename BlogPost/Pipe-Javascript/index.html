<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="lang">
  <head>
    <title data-vue-tag="true">Pipe function ใน Javascript</title><meta data-vue-tag="true" charset="utf-8"/><meta data-vue-tag="true" name="generator" content="Gridsome v0.4.7"/><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"/><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.78f0ed6.png"/><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.78f0ed6.png"/><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.78f0ed6.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.78f0ed6.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.78f0ed6.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.78f0ed6.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.78f0ed6.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.78f0ed6.png"/><link data-vue-tag="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mali:400,500|Nunito"/><link data-vue-tag="true" rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css"/><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/styles.cb3bedbe.css" as="style"><link rel="preload" href="/assets/js/app.88757b1c.js" as="script"><link rel="preload" href="/assets/css/2.styles.d9853640.css" as="style"><link rel="preload" href="/assets/js/component--blog-post.26609ac5.js" as="script"><link rel="prefetch" href="/assets/js/component--about.78609389.js"><link rel="prefetch" href="/assets/js/component--home.aff1cc9f.js"><link rel="prefetch" href="/assets/js/component--ramble.15455ee1.js"><link rel="prefetch" href="/assets/js/component--series.f64fb036.js"><link rel="prefetch" href="/assets/js/page-query.671f6c75.js"><link rel="stylesheet" href="/assets/css/styles.cb3bedbe.css"><link rel="stylesheet" href="/assets/css/2.styles.d9853640.css">
  </head>
  <body data-vue-tag="">
    <div data-server-rendered="true" id="app"><nav class="split-nav"><div class="nav-brand"><h3><a href="/" class="nav-link">Lagman</a></h3></div><div class="collapsible"><input id="collapsible1" type="checkbox" name="collapsible1"><button><label for="collapsible1"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div></label></button><div class="collapsible-body"><ul class="inline"><li><a href="/ramble" class="nav-link">เล่าไปเรื่อย</a></li><li><a href="/series" class="nav-link">เล่าเป็นซีรีย์</a></li><li><a href="/about" class="nav-link">เกี่ยวกับผม</a></li></ul></div></div></nav><div class="post"><div class="article"><img src="" data-srcset="" data-sizes="" data-src="https://i.imgur.com/fp0HTAi.jpg" class="cover-image g-image g-image--lazy g-image--loading"><noscript><img src="https://i.imgur.com/fp0HTAi.jpg" class="g-image g-image--loaded"></noscript><h3 id="title">Pipe function ใน Javascript</h3><p id="short-title">
      10 February, 2019, By Tar Jarupong
    </p><div id="blog-container"><p>สำหรับใครที่เคยใช้เจ้าแพะหรือ ramdaJS มาก่อนคงได้ยินหรือเคยใช้ pipe() มาอยู่แล้ว ซึ่งพี่ pipe() เอาไว้ทำอะไรน่ะเหรอ ดูตัวอย่างเลยครับ</p>
<pre><code>getFirstChar( toLowerCase(data))
</code></pre>
<p>ทุกเห็นคงคิดว่าก็ไม่เห็นมีไรเลยซับซ้อนตรงไหนแค่ 2 functions เอง แต่ถ้าสมมุติเป็นแบบนี้ล่ะ</p>
<pre><code>getFirstChar( toLowerCase(convertAsciiToText(getName(data))))
</code></pre>
<p><img src="https://firebasestorage.googleapis.com/v0/b/myblog-7f48d.appspot.com/o/flamelink%2Fmedia%2F1545679658057_1545660065385_holy-shit-what-dc0kau.jpg?alt=media&#x26;token=494d24a5-5bba-42fc-a2c0-6fa7b851a73f"></p>
<p>เฮ๊<del></del>~~ ทุกคนกำลังคิดแบบนี้อยู่แน่ๆ</p>
<p>ก่อนที่เราจะมาพูดถึงวิธีการแก้ไขปัญหา เรามาพูดถึงแนวคิดของเจ้า pipe กันก่อน ต้องย้อนกลับไปความรู้ทางคณิตศาสตร์ตอน ม. 5 การเลยคือเรื่อง relation and function ต้องขอบอกก่อนว่าผมก็ไม่เก่งคณิตศาสตร์แต่ผมจะพยายามอธิบายให้ง่ายที่สุดเท่าที่จะทำได้นะครับ</p>
<p><strong>Math #1 basic function</strong></p>
<br/>
สมมุติว่าผมสร้าง function ตัวนึงสำหรับรับค่า x เพื่อนำไปบวก 2
<pre><code>f(x) = x + 2
</code></pre>
<br/>
ทีนี้ผมสร้างอีก function นึงสำหรับรับค่า x แล้วทำไปคูณ 5
<pre><code>g(x) = x * 5
</code></pre>
<br/>
เริ่มจาก function แรกก่อน
<pre><code>f(2) = 2 + 2
     = 4
</code></pre>
<br/>
ต่อมาตัวก็เป็น function g
<pre><code>g(2) = 2 * 5
     = 10
</code></pre>
<br/>
นี้ก็เป็นตัวอย่างเล็กๆน้อยจากเรื่อง function สำหรับ ม. 5 ต่อไปมาเริ่มในสิ่งที่ยากขึ้นอีกระดับนึงเรียกว่า composite function เริ่ม!!
<p><strong>Math #2 Composite function</strong>
<br/>
ง่ายๆมันคือการรวม function เข้าด้วยกันนั้นเอง ผมขอยก 2 functions ด้านบนมาด้วยนะครับจะได้ไม่เสียเวลา มันก็จะได้แบบนี้</p>
<br/>
อันดับแรกผมเอา 2 function2 นี้รวมกัน
<pre><code>f(g(x))
</code></pre>
<br/>
ผมจะเขียนแนวการคิดไปทีละขั้นตอนเน้อ...
<pre><code>f(g(x)) = f(x * 5)
        = (x * 5) + 2
</code></pre>
<br/>
ลองมาดูตัวอย่างกัน
<pre><code>f(g(2)) = f(2 * 5)
        = (2 * 5) + 2
        = 10 + 2
        = 12
</code></pre>
<br/>
เอ๊ะแล้วเจ้า pipe() สุดที่รักของเรามันเกี่ยวอะไรกับคณิตศาสตร์ชวนปวดหัว ผมต้องบอกเลยว่ามันคืออันเดียวกัน ผมจะเปรียบเทียบให้ดู
<pre><code>f(g(x)) = getFirstChar( toLowerCase(data))
</code></pre>
<br/>
เห็นมั๊ยว่าเหมือนกันเป๊ะๆ เรามาดูโค๊ด pipe() กันเลย
<pre><code>const pipe = (...fns) => x => fns.reduce((v, f) => f(v), x)
</code></pre>
<br/>
<p>สำหรับใครที่ไม่รู้จัก Rest Parameter &#x26; Reduce Parameter ตามนี้โล๊ดวิธีการใช้ตัว pipe() ก็ตามนี้เลย</p>
<br/>
<pre><code>pipe(getFirstChar, toLowerCase, convertAsciiToText, getName)(data)
</code></pre>
<br/>
<p>เห็นมั๊ยว่าสะดวกและอ่านงานกว่าเยอะ ถือว่าเป็นวิธีที่ดีมากๆเป็นไงบ้างครับ สำหรับอะไรแบบนี้</p>
<br/>
Ref:
<p><a href="https://medium.com/front-end-weekly/pipe-and-compose-in-javascript-5b04004ac937" target="_blank" rel="nofollow noopener noreferrer">pipe</a></p>
<p><a href="https://medium.freecodecamp.org/how-do-javascript-rest-parameters-actually-work-227726e16cc8" target="_blank" rel="nofollow noopener noreferrer">rest parameter</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="nofollow noopener noreferrer">reduce</a></p>
</div></div></div></div>
    <script src="/assets/js/app.88757b1c.js" defer></script><script src="/assets/js/component--blog-post.26609ac5.js" defer></script>
  </body>
</html>
